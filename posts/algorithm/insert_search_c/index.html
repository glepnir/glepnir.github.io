<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>glepnir/posts/algorithm/insert_search_c/</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><link rel=stylesheet href=https://glepnir.neovim.pro/console-plus/css/terminal-0.7.2.min.css><link rel=stylesheet href=https://glepnir.neovim.pro/console-plus/css/animate-4.1.1.min.css><link rel=stylesheet href=https://glepnir.neovim.pro/console-plus/css/console.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><meta property="og:title" content="Insert_search_c"><meta property="og:description" content><meta property="og:type" content="article"><meta property="og:url" content="https://glepnir.neovim.pro/posts/algorithm/insert_search_c/"><meta property="article:published_time" content="2022-10-15T18:09:52+08:00"><meta name=twitter:title content="Insert_search_c"><meta name=twitter:description content="Insertion Sort (插入排序) C language version
插入排序（Insertion-Sort）的算法描述是一种简单直观的排序算法。它的工作原理是通过构建有序序列，对于"></head><body class=terminal><div class=container><div class=terminal-nav><header class=terminal-logo><div class="logo terminal-prompt"><a href=https://glepnir.neovim.pro/ class="no-style site-name">glepnir</a>:~#
<a href=https://glepnir.neovim.pro/posts>posts</a>/<a href=https://glepnir.neovim.pro/posts/algorithm>algorithm</a>/<a href=https://glepnir.neovim.pro/posts/algorithm/insert_search_c>insert_search_c</a>/</div></header><nav class=terminal-menu><ul vocab="https://schema.org/" typeof="BreadcrumbList"><li><a href=https://glepnir.neovim.pro/posts/ typeof="ListItem">posts/</a></li><li><a href=https://glepnir.neovim.pro/tags/ typeof="ListItem">tags/</a></li><li><a href=https://glepnir.neovim.pro/about/ typeof="ListItem">about/</a></li><li><a href=https://glepnir.neovim.pro/sponsor/ typeof="ListItem">sponsor/</a></li></ul></nav></div></div><div class="container animated zoomIn fast"><h1>Insert_search_c</h1>Oct. 15, 2022<br><br><h2 id=insertion-sort-插入排序-c-language-version>Insertion Sort (插入排序) C language version</h2><p>插入排序（Insertion-Sort）的算法描述是一种简单直观的排序算法。它的工作原理是通过构建有序序列，对于</p><p>未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。</p><p><strong>每步将一个待排序的元素，按其排序码大小插入到前面已经排好序的一组元素的适当位置上去，直到元素全部插入为止</strong></p><p><img src=/images/insert_sort/insert_sort_1.png alt=insert_sort></p><h2 id=算法描述如下>算法描述如下：</h2><ul><li><p>将待排序序列第一个元素看做一个有序序列，把第二个元素到最后一个元素当成是未排序序列；</p></li><li><p>取出下一个元素，在已经排序的元素序列中从后向前扫描；</p></li><li><p>如果该元素（已排序）大于新元素，将该元素移到下一位置；</p></li><li><p>重复步骤3，直到找到已排序的元素小于或者等于新元素的位置；</p></li><li><p>将新元素插入到该位置后；</p></li><li><p>重复步骤2~5。</p></li></ul><img src=/images/insert_sort/insert_sort_2.png style=width:70%><h2 id=c-language-实现>C language 实现</h2><ul><li>使用while:</li></ul><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span><span style=color:#8ec07c>#include</span> <span style=color:#8ec07c;font-style:italic>&lt;stdio.h&gt;</span><span style=color:#8ec07c>
</span></span></span><span style=display:flex><span><span style=color:#8ec07c>#define LEN 5
</span></span></span><span style=display:flex><span><span style=color:#8ec07c></span>
</span></span><span style=display:flex><span><span style=color:#fabd2f>void</span> <span style=color:#fabd2f>insert_sort</span>(<span style=color:#fabd2f>void</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#fabd2f>int</span> key;
</span></span><span style=display:flex><span>  <span style=color:#fabd2f>int</span> a[LEN] <span style=color:#fe8019>=</span> {<span style=color:#d3869b>3</span>, <span style=color:#d3869b>7</span>, <span style=color:#d3869b>1</span>, <span style=color:#d3869b>8</span>, <span style=color:#d3869b>5</span>};
</span></span><span style=display:flex><span>  <span style=color:#fe8019>for</span> (<span style=color:#fabd2f>int</span> j <span style=color:#fe8019>=</span> <span style=color:#d3869b>1</span>; j <span style=color:#fe8019>&lt;</span> LEN; j<span style=color:#fe8019>++</span>) {
</span></span><span style=display:flex><span>    key <span style=color:#fe8019>=</span> a[j];
</span></span><span style=display:flex><span>    <span style=color:#fabd2f>int</span> i <span style=color:#fe8019>=</span> j <span style=color:#fe8019>-</span> <span style=color:#d3869b>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#fe8019>while</span> (i <span style=color:#fe8019>&gt;=</span> <span style=color:#d3869b>0</span> <span style=color:#fe8019>&amp;&amp;</span> a[i] <span style=color:#fe8019>&gt;</span> key) {
</span></span><span style=display:flex><span>      a[j] <span style=color:#fe8019>=</span> a[i];
</span></span><span style=display:flex><span>      i<span style=color:#fe8019>--</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    a[i <span style=color:#fe8019>+</span> <span style=color:#d3869b>1</span>] <span style=color:#fe8019>=</span> key;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#fabd2f>int</span> <span style=color:#fabd2f>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  insert_sort();
</span></span><span style=display:flex><span>  <span style=color:#fe8019>return</span> <span style=color:#d3869b>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><ul><li>使用两个<code>for</code>:</li></ul><div class=highlight><pre tabindex=0 style=color:#ebdbb2;background-color:#282828;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-C data-lang=C><span style=display:flex><span>    <span style=color:#fabd2f>int</span> a[LEN] <span style=color:#fe8019>=</span> {<span style=color:#d3869b>3</span>, <span style=color:#d3869b>7</span>, <span style=color:#d3869b>1</span>, <span style=color:#d3869b>8</span>, <span style=color:#d3869b>5</span>};
</span></span><span style=display:flex><span>    <span style=color:#fabd2f>int</span> key;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#fe8019>for</span> (j <span style=color:#fe8019>=</span> <span style=color:#d3869b>1</span>; j <span style=color:#fe8019>&lt;</span> LEN; i<span style=color:#fe8019>++</span>) {
</span></span><span style=display:flex><span>        key <span style=color:#fe8019>=</span> a[j];    <span style=color:#928374;font-style:italic>//待排序元素
</span></span></span><span style=display:flex><span><span style=color:#928374;font-style:italic></span>        <span style=color:#fe8019>for</span> (i <span style=color:#fe8019>=</span> j <span style=color:#fe8019>-</span> <span style=color:#d3869b>1</span>; i <span style=color:#fe8019>&gt;=</span> <span style=color:#d3869b>0</span> <span style=color:#fe8019>&amp;&amp;</span> a[i] <span style=color:#fe8019>&gt;</span> key ; i<span style=color:#fe8019>--</span>) {
</span></span><span style=display:flex><span>            a[j] <span style=color:#fe8019>=</span> a[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        a[i <span style=color:#fe8019>+</span> <span style=color:#d3869b>1</span>] <span style=color:#fe8019>=</span> key;
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h2 id=排序过程>排序过程:</h2><p>以上面的例子来说排序的对象是 3，7，1，8，5 数组长度为5，因为第一个元素可以认为已经被排序 所以for循环的次数是：</p><p>5（数组长度） - 1 = 4</p><ul><li><p>第一次for循环：</p><p>3>7不成立，插入待排序元素，数组不变，此时有序序列为3，7</p></li><li><p>第二次for循环：</p><p>7>1成立，数组变成3，7，7，8，5</p><p>3>1成立，数组变成3，3，7，8，5</p><p>插入待排序元素，此时数组为1，3，7，8，5，有序序列为1，3，7</p></li><li><p>第三次for循环：</p><p>7>8不成立，插入待排序元素，数组不变，此时有序序列为1，3，7，8</p></li><li><p>第四次for循环：</p><p>8>5成立，数组变成1，3，7，8，8</p><p>7>5成立，数组变成1，3，7，7，8</p><p>3>5不成立，插入待排序元素，此时数组为1，3，5，7，8，有序序列为1，3，5，7，8，排序完成</p></li></ul><p><img src=/images/insert_sort/insert_sort_3.jpeg alt=img></p><div align=center><b>其他语言版本请在算法分类中查看</b></div><div style=text-align:center;margin-bottom:30px;padding-top:20px><h5 style=font-weight:600;margin-bottom:10px;color:#b04161>「Buy me a coffee」</h5><div id=QR><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://glepnir.neovim.pro/images/wechat.png alt="WeChat Pay"></a><h5 style=font-weight:600;margin-top:5px></h5></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://glepnir.neovim.pro/images/alipay.png alt=Alipay></a><h5 style=font-weight:600;margin-top:5px></h5></div></div></div><script src=https://utteranc.es/client.js repo=glepnir/glepnir.github.io issue-term=title theme=dark-blue crossorigin=anonymous async></script><div class=footer>Copyright © 2022 author glepnir</div></div></body></html>